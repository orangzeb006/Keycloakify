{"version":3,"file":"static/js/6475.b8461230.chunk.js","mappings":"kXAYe,SAASA,EAAMC,GAC1B,IAAQC,EAAwDD,EAAxDC,UAAWC,EAA6CF,EAA7CE,KAAMC,EAAuCH,EAAvCG,gBAAiBC,EAAsBJ,EAAtBI,SAAUC,EAAYL,EAAZK,QAE5CC,GAAiBC,EAAAA,EAAAA,GAAgB,CACrCJ,gBAAAA,EACAE,QAAAA,IAFIC,aAKAE,EAAgBN,EAAhBM,IAAKC,EAAWP,EAAXO,QAIbC,EAAAA,EAAAA,IAAiB,CACbT,UAAAA,EACA,qBAAuB,WAAD,IAAAU,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAE,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAN,EAAAA,EAAAA,KAAAO,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAOf,GAPuBN,EAAkBD,EAAlBC,mBAEtBC,EAEO,OADDD,EACcO,EACFC,IAKpB,uBAAwBC,QAAM,CAAAL,EAAAE,KAAA,eAAAF,EAAAM,OAAA,SAGvBT,GAAO,cAAAG,EAAAE,KAAA,EAGWK,MAAMV,GAASW,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAAE,KAAD,EAAzD,OAAdZ,EAAcE,EAAAW,KAAAX,EAAAM,OAAA,SAEbR,GAAc,wBAAAE,EAAAY,OAAA,GAAAlB,EAAA,KAExB,gBAAAmB,GAAA,OAAAvB,EAAAwB,MAAA,KAAAC,UAAA,EApBsB,MAuB3BC,EAAAA,EAAAA,IAAyBC,EAAAA,GAEzB,IAAQC,EAAQtC,EAARsC,IAEFC,EAAeF,EAAAA,EAAAA,MAErB,YAAqBG,IAAjBD,EACO,MAIPE,EAAAA,EAAAA,MAACtC,EAAQ,CAAOH,UAAAA,EAAWC,KAAAA,EAAMC,gBAAAA,EAAiBE,QAAAA,EAAWsC,gBAAgB,EAAOC,WAAYpC,EAAI,cAAcqC,SAAA,EAC9GC,EAAAA,EAAAA,KAAA,OAAKC,GAAG,gBAAeF,UACnBC,EAAAA,EAAAA,KAACE,EAAAA,EAAQ,CAAAH,SAAEL,OAEfE,EAAAA,EAAAA,MAAA,QAAMO,UAAU,eAAeC,OAAQX,EAAIY,YAAaC,OAAO,OAAMP,SAAA,EACjEC,EAAAA,EAAAA,KAAA,SACIG,WAAWI,EAAAA,EAAAA,GACP/C,EAAa,iBACbA,EAAa,iBACbA,EAAa,iBACbA,EAAa,wBACbA,EAAa,uBAEjBgD,KAAK,SACLP,GAAG,YACHQ,KAAK,SACLC,MAAO/C,EAAO,eAElBqC,EAAAA,EAAAA,KAAA,SACIG,WAAWI,EAAAA,EAAAA,GAAK/C,EAAa,iBAAkBA,EAAa,wBAAyBA,EAAa,uBAClGgD,KAAK,SACLP,GAAG,aACHQ,KAAK,SACLC,MAAO/C,EAAO,mBAGtBqC,EAAAA,EAAAA,KAAA,OAAKG,UAAU,eAG3B,C","sources":["keycloak-theme/login/pages/Terms.tsx"],"sourcesContent":["import { clsx } from \"keycloakify/tools/clsx\";\nimport { useRerenderOnStateChange } from \"evt/hooks\";\nimport { Markdown } from \"keycloakify/tools/Markdown\";\nimport type { PageProps } from \"keycloakify/login/pages/PageProps\";\nimport { useGetClassName } from \"keycloakify/login/lib/useGetClassName\";\nimport { evtTermMarkdown } from \"keycloakify/login/lib/useDownloadTerms\";\nimport type { KcContext } from \"../kcContext\";\nimport type { I18n } from \"../i18n\";\nimport { useDownloadTerms } from \"keycloakify/login\";\nimport tos_en_url from \"../assets/tos_en.md\";\nimport tos_fr_url from \"../assets/tos_fr.md\";\n\nexport default function Terms(props: PageProps<Extract<KcContext, { pageId: \"terms.ftl\" }>, I18n>) {\n    const { kcContext, i18n, doUseDefaultCss, Template, classes } = props;\n\n    const { getClassName } = useGetClassName({\n        doUseDefaultCss,\n        classes\n    });\n\n    const { msg, msgStr } = i18n;\n\n    // NOTE: If you aren't going to customize the layout of the page you can move this hook to \n    // KcApp.tsx, see: https://docs.keycloakify.dev/terms-and-conditions\n    useDownloadTerms({\n        kcContext,\n        \"downloadTermMarkdown\": async ({currentLanguageTag}) => {\n\n            const tos_url = (() => {\n                switch (currentLanguageTag) {\n                    case \"fr\": return tos_fr_url;\n                    default: return tos_en_url;\n                }\n            })();\n\n\n            if (\"__STORYBOOK_ADDONS\" in window) {\n                // NOTE: In storybook, when you import a .md file you get the content of the file.\n                // In Create React App on the other hand you get an url to the file.\n                return tos_url;\n            }\n\n            const markdownString = await fetch(tos_url).then(response => response.text());\n\n            return markdownString;\n\n        }\n    });\n\n    useRerenderOnStateChange(evtTermMarkdown);\n\n    const { url } = kcContext;\n\n    const termMarkdown = evtTermMarkdown.state;\n\n    if (termMarkdown === undefined) {\n        return null;\n    }\n\n    return (\n        <Template {...{ kcContext, i18n, doUseDefaultCss, classes }} displayMessage={false} headerNode={msg(\"termsTitle\")}>\n            <div id=\"kc-terms-text\">\n                <Markdown>{termMarkdown}</Markdown>\n            </div>\n            <form className=\"form-actions\" action={url.loginAction} method=\"POST\">\n                <input\n                    className={clsx(\n                        getClassName(\"kcButtonClass\"),\n                        getClassName(\"kcButtonClass\"),\n                        getClassName(\"kcButtonClass\"),\n                        getClassName(\"kcButtonPrimaryClass\"),\n                        getClassName(\"kcButtonLargeClass\")\n                    )}\n                    name=\"accept\"\n                    id=\"kc-accept\"\n                    type=\"submit\"\n                    value={msgStr(\"doAccept\")}\n                />\n                <input\n                    className={clsx(getClassName(\"kcButtonClass\"), getClassName(\"kcButtonDefaultClass\"), getClassName(\"kcButtonLargeClass\"))}\n                    name=\"cancel\"\n                    id=\"kc-decline\"\n                    type=\"submit\"\n                    value={msgStr(\"doDecline\")}\n                />\n            </form>\n            <div className=\"clearfix\" />\n        </Template>\n    );\n}\n"],"names":["Terms","props","kcContext","i18n","doUseDefaultCss","Template","classes","getClassName","useGetClassName","msg","msgStr","useDownloadTerms","_downloadTermMarkdown","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","currentLanguageTag","tos_url","markdownString","wrap","_context","prev","next","tos_fr_url","tos_en_url","window","abrupt","fetch","then","response","text","sent","stop","_x","apply","arguments","useRerenderOnStateChange","evtTermMarkdown","url","termMarkdown","undefined","_jsxs","displayMessage","headerNode","children","_jsx","id","Markdown","className","action","loginAction","method","clsx","name","type","value"],"sourceRoot":""}